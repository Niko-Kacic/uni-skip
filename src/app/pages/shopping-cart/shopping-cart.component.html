<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet"/>

<div class="header-container">
  <div class="header-content">
    <a class="header-title" (click)="goToMenu()">Uni-Skip</a>
    <div class="header-icons">
      <i class="fas fa-question-circle" title="Ayuda"></i>
      <i class="fas fa-cog" title="Configuración" (click)="goToSettings()"></i>
      <i class="fas fa-user" title="Perfil" (click)="goToProfile()"></i>
      <i class="fas fa-shopping-cart" title="Carrito de Compras"></i>
    </div>
  </div>
</div>

<div class="cart-container">
  <h1 class="cart-title">Carrito de Compras</h1>
  <table class="cart-table" *ngIf="cart.length > 0; else emptyCart">
    <thead>
      <tr>
        <th>Nombre</th>
        <th>Cantidad</th>
        <th>Precio</th>
        <th>Total</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let product of cart">
        <td>{{ product.nombre }}</td> <!-- Mostrar el nombre del producto -->
        <td>{{ product.quantity }}</td> <!-- Cantidad -->
        <td>${{ product.valor }}</td> <!-- Precio unitario -->
        <td>${{ product.valor * product.quantity }}</td> <!-- Precio total -->
        <td>
          <button class="action-btn add" (click)="addToCart(product)">+</button>
          <button class="action-btn remove" (click)="removeFromCart(product)">-</button>
        </td>
      </tr>      
      <tr class="total-row">
        <td colspan="3"><strong>Total:</strong></td>
        <td colspan="2">${{ getTotal() }}</td>
      </tr>
    </tbody>
  </table>

  <ng-template #emptyCart>
    <p class="empty-message">El carrito está vacío.</p>
  </ng-template>

  <button class="checkout-btn" (click)="checkout()">Confirmar Pedido</button>
</div>
